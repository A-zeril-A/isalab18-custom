<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- 
        Odoo 18 Compatible CRM Lead Kanban View
        
        Note: In Odoo 18, the kanban view uses <t t-name="card"> template 
        instead of the old div-based structure. The o_kanban_bottom_left 
        class no longer exists. Payment info is now added after partner_id.
    -->
    <record id="crm_case_kanban_view_leads_payment_info" model="ir.ui.view">
        <field name="name">crm.lead.kanban.payment.info</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_case_kanban_view_leads"/>
        <field name="arch" type="xml">
            <!-- Add payment info after partner_id in the card template -->
            <xpath expr="//t[@t-name='card']//field[@name='partner_id']" position="after">
                <div class="mt-1 small text-muted">
                    <span>Total: <field name="amount_total" widget="monetary"/></span>
                    <span class="ms-2">Paid: <field name="amount_paid" widget="monetary"/></span>
                    <span class="ms-2">Due: <field name="amount_due" widget="monetary"/></span>
                </div>
            </xpath>
        </field>
    </record>
</odoo>
